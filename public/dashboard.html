<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Stay Well</title>
    <!-- Bulma -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.2/css/bulma.min.css">
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
    <!-- Jquery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- Stylesheet -->
    <link href="stylesheets/dashboard.css" rel="stylesheet">
</head>

<body>
    <section class="section" style="padding: 0;">
        <!-- Hero Block -->
        <section class="hero">
            <div class="hero-body">
                <div class="container title mainHeader">
                    <h1>
                        Stay at Home
                    </h1>
                    <h2 class="subtitle">
                        & Stay Well
                    </h2>
                </div>
            </div>
        </section>

        <!-- Nav Bar -->
        <nav class="navbar" role="navigation" aria-label="main navigation" style="margin-left: 10px;">
            <div class="navbar-brand">

                <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false"
                    data-target="navbarBasicExample">
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                </a>
            </div>

            <div id="navbarBasicExample" class="navbar-menu">
                <div class="navbar-start">
                    <a class="navbar-item">
                        Home
                    </a>

                    <a class="navbar-item">
                        Workouts
                    </a>

                    <div class="navbar-item has-dropdown is-hoverable">
                        <a class="navbar-link">
                            More
                        </a>

                        <div class="navbar-dropdown">
                            <a class="navbar-item">
                                Resources
                            </a>
                            <a class="navbar-item">
                                Recipes
                            </a>
                            <a class="navbar-item">
                                About
                            </a>
                            <hr class="navbar-divider">
                            <a class="navbar-item">
                                Report an issue
                            </a>
                        </div>
                    </div>
                </div>

                <div class="navbar-end">
                    <div class="navbar-item">
                        <div class="buttons">
                            <a class="button signup">
                                Sign up
                            </a>
                            <a class="button is-light">
                                Log in
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <!-- tiles section -->
        <div class="tiles">
            <div class="tile is-ancestor">
                <div class="tile is-vertical is-8">
                    <div class="tile">
                        <!-- Whats Cooking Tile -->
                        <div class="tile is-parent is-vertical">
                            <article class="tile is-child notification tile1">
                                <p class="title">What's Cooking?</p>
                                <div class="field">
                                    
                                    <div class="box ingredients">
                                        <article class="media">
                                            <div class="media-content">
                                                <div class="content">
                                                    <p>
                                                        <strong>Ingredients</strong>
                                                        <form>
                                                            <label for="userFood">Food:</label><br>
                                                            <input id="userFood" type="text" id="fname" name="userFood"><br>
                                                            <label for="userDiet">Diet:</label><br>
                                                            <input id="userDiet" type="text" id="lname" name="userDiet"><br>
                                                            <label for="userHealth">Health:</label><br>
                                                            <input id="userHealth" type="text" id="fname" name="userHealth"><br>
                                                            <label for="userMealType">Meal Type:</label><br>
                                                            <input id="userMealType" type="text" id="lname" name="userMealType"><br>
                                                            <label for="userExclude">Exclude:</label><br>
                                                            <input id="userExclude" type="text" id="lname" name="userExclude">
                                                            
                                                          </form>
                                                    </p>
                                        </article>
                                    </div>
                                    <!-- Find recipes button -->
                                    <button id="btn1" class="button is-info getRecipes">Find Recipes</button>
                                </div>
                            </article>
                        </div>

                        <!-- Recipes Tile -->
                        <div class="tile is-parent">
                            <article class="tile is-child notification tile3">
                                <p class="title">Suggested Recipes</p>
                                <p class="subtitle">Click title to see full recipe</p>
                                <div class="box ingredients">
                                    <article class="media">
                                        <div class="media-content">
                                            <div class="content">
                                                <!-- recipes go here -->
                                                <div id="postHere1">
                                             
                                                </div>
                                                <div id="postHere2">
                                                    
                                                </div>
                                                <div id="postHere3">
                                                   
                                                </div>
                                                <div id="postHere4">
                                 
                                                </div>
                                                <div id="postHere5">
       
                                                </div>
                                                
                                            </div>
                                    </article>
                                </div>
                            </article>
                        </div>
                    </div>

                    <!-- Extra Tile at bottom -->
                    <div class="tile is-parent">
                        <article class="tile is-child notification tile4">
                            <p class="title">Saved Recipes</p>
                            <p class="subtitle"></p>
                            <div class="recipe-title">
                                <!-- Content -->
                                <strong> <a href="" target="_blank" id="id1">Soup</a> </strong>
                                <strong> <a href="" target="_blank" id="id3">Casserole</a> </strong>
                            </div>
                        </article>
                    </div>
                </div>

                <!-- Workouts Tile -->
                <div class="tile is-parent">
                    <article class="tile is-child notification tile5">
                        <div class="content">
                            <p class="title">Workouts</p>
                            <p class="subtitle">You can do from home</p>
                            <div class="content">
                                <!-- Content -->
                            </div>
                        </div>
                    </article>
                </div>
            </div>
        </div>
    </section>

    <!-- javascript for bulma burger button -->
    <script>
        $(document).ready(function () {

            // Check for click events on the navbar burger icon
            $(".navbar-burger").click(function () {

                // Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
                $(".navbar-burger").toggleClass("is-active");
                $(".navbar-menu").toggleClass("is-active");

            });
        });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript" src="js/savedRecipes.js"></script>
</body>
<script>

document.getElementById("btn1").onclick = function(event) {
    event.preventDefault();
    recipeSearch()};

function recipeSearch() {

        var userFood = document.getElementById("userFood").value;
        var userHealth = document.getElementById("userHealth").value;
        var userDiet = document.getElementById("userDiet").value;
        var userMealType = document.getElementById("userMealType").value;
        var userExclude = document.getElementById("userExclude").value;

        //var queryURL = "https://api.edamam.com/search?q=beets&diet=low-carb&health=vegetarian&meal-type=lunch&excluded=onions&app_id=f876d2ab&app_key=f3704087ed21caa6260f24b22b7b655f";
        var queryURL = "https://api.edamam.com/search?q=" + userFood + "&diet=" + userDiet + "&health=" + userHealth + "&meal-type=" + userMealType + "&excluded=" + userExclude + "&app_id=f876d2ab&app_key=f3704087ed21caa6260f24b22b7b655f";
        
        $.ajax({
            url: queryURL,
            method: "GET"
        }).then(function(resp) {
var newSpace1 = $(`<p style="margin-top: 10px" >`);
var newSpace2 = $(`<p style="margin-top: 10px" >`);
var newSpace3 = $(`<p style="margin-top: 10px" >`);
var newSpace4 = $(`<p style="margin-top: 10px" >`);
var newSpace5 = $(`<p style="margin-top: 10px" >`);

var newbtn2 = $(`<a class="button is-small recSavBtn" id="btn2">Save</a>` )
var newbtn3 = $(`<a class="button is-small recSavBtn" id="btn3">Save</a>` )
var newbtn4 = $(`<a class="button is-small recSavBtn" id="btn4">Save</a>` )
var newbtn5 = $(`<a class="button is-small recSavBtn" id="btn5">Save</a>` )
var newbtn6 = $(`<a class="button is-small recSavBtn" id="btn6">Save</a>` )


    console.log(resp);
//var beetRecipe = (JSON.parse(resp));
var firstRecipe = JSON.stringify(resp.hits[0].recipe.label);
var secondRecipe = JSON.stringify(resp.hits[1].recipe.label);
var thirdRecipe = JSON.stringify(resp.hits[2].recipe.label);
var fourthRecipe = JSON.stringify(resp.hits[3].recipe.label);
var fifthRecipe = JSON.stringify(resp.hits[4].recipe.label);

newSpace1.text(firstRecipe);
newSpace2.text(secondRecipe);
newSpace3.text(thirdRecipe);
newSpace4.text(fourthRecipe);
newSpace5.text(fifthRecipe);

$("#postHere1").append(newSpace1, newbtn2);
$("#postHere2").append(newSpace2, newbtn3);
$("#postHere3").append(newSpace3, newbtn4);
$("#postHere4").append(newSpace4, newbtn5);
$("#postHere5").append(newSpace5, newbtn6);



});
}


</script>
</html> 